(function(t){function e(e){for(var n,a,u=e[0],i=e[1],s=e[2],d=0,l=[];d<u.length;d++)a=u[d],c[a]&&l.push(c[a][0]),c[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);p&&p(e);while(l.length)l.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,u=1;u<r.length;u++){var i=r[u];0!==c[i]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},c={app:0},o=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var p=i;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"2c44":function(t,e,r){},4734:function(t,e,r){"use strict";var n=r("8c3c"),c=r.n(n);c.a},"4fc2":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("app-header"),r("router-view")],1)},o=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",[t.$route.path.match(/product\//)?r("button",{staticClass:"back-button",on:{click:function(e){return t.$router.back()}}},[t._v("Back")]):t._e(),r("button",{staticClass:"open-cart-btn",on:{click:t.toogleCartPopup}},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.cartPopupVisible,expression:"cartPopupVisible"}]},[t._v("x")])]),r("cart-popup",{directives:[{name:"show",rawName:"v-show",value:t.cartPopupVisible,expression:"cartPopupVisible"}],attrs:{products:t.productsInCart}})],1)},u=[],i=r("cebc"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart-popup",class:{empty:t.isEmpty}},[r("section",{directives:[{name:"show",rawName:"v-show",value:!t.isEmpty,expression:"!isEmpty"}],staticClass:"cart-body"},[r("ul",{staticClass:"cart-list"},t._l(t.products,function(e){return r("li",{key:e.id},[r("div",{staticClass:"cart-item"},[r("button",{staticClass:"icon-button delete-button",on:{click:function(r){return t.removeProduct(e.id)}}}),r("p",{staticClass:"cart-item-title"},[t._v(t._s(e.title))]),r("div",{staticClass:"controls-container"},[r("button",{staticClass:"icon-button remove-button",on:{click:function(r){return t.removeProductItem(e.id)}}}),r("p",{staticClass:"cart-item-amount"},[t._v(t._s(e.amount))]),r("button",{staticClass:"icon-button add-button",on:{click:function(r){return t.addProductItem(e)}}})]),r("p",{staticClass:"cart-item-total-price"},[t._v(t._s(e.totalPrice))])])])}),0),r("button",{staticClass:"clean-button",on:{click:t.cleanCart}},[t._v("Clear Cart")])]),r("section",{directives:[{name:"show",rawName:"v-show",value:t.isEmpty,expression:"isEmpty"}],staticClass:"cart-alert"},[t._v("\n    Your cart is empty\n  ")])])},p=[],d=r("2f62"),l={props:{products:Array},computed:{isEmpty:function(){return!this.products.length}},methods:Object(i["a"])({},Object(d["b"])(["addProductItem","removeProductItem","removeProduct","cleanCart"]))},m=l,f=(r("4734"),r("2877")),v=Object(f["a"])(m,s,p,!1,null,"7584235c",null),b=v.exports,h={data:function(){return{cartPopupVisible:!1}},components:{cartPopup:b},computed:Object(i["a"])({},Object(d["c"])(["productsInCart"])),methods:{toogleCartPopup:function(){this.cartPopupVisible=!this.cartPopupVisible}}},g=h,C=(r("cce1"),Object(f["a"])(g,a,u,!1,null,"26c1354c",null)),w=C.exports,_={components:{AppHeader:w}},P=_,I=(r("5c0b"),Object(f["a"])(P,c,o,!1,null,null,null)),y=I.exports,x=r("8c4f"),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-list"},t._l(t.products,function(t){return r("product-item",{key:t.id,attrs:{product:t}})}),1)},j=[],k=(r("96cf"),r("3b8d")),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"product-item"},[r("figure",{staticClass:"product-image"},[r("router-link",{attrs:{to:{path:"product/"+t.product.id}}},[r("img",{attrs:{src:t.product.image,alt:"product image"}})]),r("figcaption",[r("span",{staticClass:"product-title"},[t._v(t._s(t.product.title))]),r("span",{staticClass:"product-price"},[t._v(t._s(t.product.price)+" $")])])],1),r("section",{staticClass:"controls-container"},[r("button",{staticClass:"remove-button",on:{click:function(e){return t.removeProductItem(t.product.id)}}}),r("p",{staticClass:"product-amount"},[t._v(t._s(t.productInCartAmount))]),r("button",{staticClass:"add-button",on:{click:function(e){return t.addProductItem(t.product)}}})])])},E=[],$={props:{product:Object},methods:Object(i["a"])({},Object(d["b"])(["addProductItem","removeProductItem"])),computed:{productInCartAmount:function(){return this.$store.getters.productInCartAmount(this.product.id)}}},D=$,R=(r("d3e3"),Object(f["a"])(D,S,E,!1,null,"f26f6d86",null)),N=R.exports,A=r("795b"),V=r.n(A),T=r("d225"),M=r("b0b4"),B=r("7338"),J=r.n(B),F="/api/products",G=function(){function t(){Object(T["a"])(this,t)}return Object(M["a"])(t,null,[{key:"getProducts",value:function(){return new V.a(function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(e,r){var n,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.a.get(F);case 3:n=t.sent,c=n.data,e(c),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),r(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,r){return t.apply(this,arguments)}}())}},{key:"getProductById",value:function(t){return new V.a(function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(r,n){var c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("".concat(F,"/").concat(t));case 3:c=e.sent,o=c.data,r(o),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),n(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,r){return e.apply(this,arguments)}}())}}]),t}(),H={components:{productItem:N},data:function(){return{products:[]}},methods:{initData:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.getProducts();case 2:this.products=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.initData()}},L=H,U=(r("dfc9"),Object(f["a"])(L,O,j,!1,null,"03844eb1",null)),Y=U.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-page"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("h1",[t._v(t._s(t.productData.title))]),r("img",{attrs:{src:t.productData.image,alt:""}}),r("p",[t._v(t._s(t.productData.price))])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("\n    Loading...\n  ")])])},z=[],K={data:function(){return{loading:!1,productData:{}}},methods:{initData:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,setTimeout(Object(k["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.getProductById(e.$route.params.id);case 2:e.productData=t.sent,e.loading=!1;case 4:case"end":return t.stop()}},t)})),3e3);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.initData()}},Q=K,W=(r("70c0"),Object(f["a"])(Q,q,z,!1,null,"74225afb",null)),X=W.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"alert"},[t._v("404: PAGE NOT FOUND")])},tt=[],et=(r("e539"),{}),rt=Object(f["a"])(et,Z,tt,!1,null,"6aec8b21",null),nt=rt.exports;n["a"].use(x["a"]);var ct=new x["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Y},{path:"/product/:id",name:"product",component:X},{path:"*",component:nt}]}),ot=(r("20d6"),r("f499")),at=r.n(ot),ut=r("5176"),it=r.n(ut);r("7514");n["a"].use(d["a"]);var st=new d["a"].Store({state:{productsInCart:[]},mutations:{addProductItem:function(t,e){var r=t.productsInCart.find(function(t){return t.id===e.id});r?(r.amount++,r.totalPrice+=e.price):(e=it()({},e),e.amount++,e.totalPrice+=e.price,t.productsInCart.push(e)),localStorage.setItem("store",at()(t))},removeProductItem:function(t,e){var r=t.productsInCart.findIndex(function(t){return t.id===e});if(-1===r)return!1;var n=t.productsInCart[r];n.amount--,n.totalPrice-=n.price,0===n.amount&&t.productsInCart.splice(r,1),localStorage.setItem("store",at()(t))},removeProduct:function(t,e){t.productsInCart.splice(e,1),localStorage.setItem("store",at()(t))},cleanCart:function(t){t.productsInCart=[],localStorage.setItem("store",at()(t))},initialiseStore:function(t){localStorage.getItem("store")&&this.replaceState(it()(t,JSON.parse(localStorage.getItem("store"))))}},actions:{addProductItem:function(t,e){t.commit("addProductItem",e)},removeProductItem:function(t,e){t.commit("removeProductItem",e)},removeProduct:function(t,e){t.commit("removeProduct",e)},cleanCart:function(t,e){t.commit("cleanCart",e)}},getters:{productsInCart:function(t){return t.productsInCart},productInCartAmount:function(t){return function(e){return t.productsInCart.some(function(t){return t.id===e})?t.productsInCart.find(function(t){return t.id===e}).amount:0}}}});n["a"].config.productionTip=!1,new n["a"]({router:ct,store:st,render:function(t){return t(y)},beforeCreate:function(){this.$store.commit("initialiseStore")}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("5e27"),c=r.n(n);c.a},"5e27":function(t,e,r){},"70c0":function(t,e,r){"use strict";var n=r("deda"),c=r.n(n);c.a},"8c3c":function(t,e,r){},b42c:function(t,e,r){},cce1:function(t,e,r){"use strict";var n=r("2c44"),c=r.n(n);c.a},d3e3:function(t,e,r){"use strict";var n=r("de0f"),c=r.n(n);c.a},de0f:function(t,e,r){},deda:function(t,e,r){},dfc9:function(t,e,r){"use strict";var n=r("b42c"),c=r.n(n);c.a},e539:function(t,e,r){"use strict";var n=r("4fc2"),c=r.n(n);c.a}});
//# sourceMappingURL=app.0dd4e1b9.js.map